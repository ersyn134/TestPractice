{% extends "base.html" %}

{% block content %}
<h2>–ú–æ–∏ –≤–æ–ø—Ä–æ—Å—ã</h2>

<form method="get" class="mb-3">
    <input type="text" name="q" placeholder="–ü–æ–∏—Å–∫ –ø–æ –≤–æ–ø—Ä–æ—Å—É" value="{{ search_query }}">
    <input type="date" name="date" value="{{ date_filter }}">
    <button type="submit">–ù–∞–π—Ç–∏</button>
</form>

{% for question in page_obj %}
    <div>
        <p><strong>{{ question.text }}</strong></p>
        <ul>
            {% for answer in question.answers.all %}
                <li{% if answer.is_correct %} style="color: green;"{% endif %}>
                    {{ answer.text }}
                    {% if answer.is_correct %} (–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π) {% endif %}
                </li>
            {% endfor %}
        </ul>
        <a href="{% url 'edit_question' question.id %}">‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</a> |
        <a href="{% url 'delete_question' question.id %}">üóëÔ∏è –£–¥–∞–ª–∏—Ç—å</a>
    </div>
    <hr>
{% empty %}
    <p>–ù–µ—Ç –≤–æ–ø—Ä–æ—Å–æ–≤.</p>
{% endfor %}

<div class="pagination">
    <span>
        –°—Ç—Ä–∞–Ω–∏—Ü–∞ {{ page_obj.number }} –∏–∑ {{ page_obj.paginator.num_pages }}
    </span>

    {% if page_obj.has_previous %}
        <a href="?{% if search_query %}q={{ search_query }}&{% endif %}{% if date_filter %}date={{ date_filter }}&{% endif %}page={{ page_obj.previous_page_number }}">‚¨ÖÔ∏è –ü—Ä–µ–¥—ã–¥—É—â–∞—è</a>
    {% endif %}

    {% if page_obj.has_next %}
        <a href="?{% if search_query %}q={{ search_query }}&{% endif %}{% if date_filter %}date={{ date_filter }}&{% endif %}page={{ page_obj.next_page_number }}">–°–ª–µ–¥—É—é—â–∞—è ‚û°Ô∏è</a>
    {% endif %}
</div>
{% endblock %}
